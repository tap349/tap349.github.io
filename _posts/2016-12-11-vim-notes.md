---

layout: post
title: vim notes
date: 2016-12-11 16:35:17 +0300
access: public
categories: [vim]
---

vim notes.

<!-- more -->

### interactive history of commands

`q:`

- opens command-editing window with history of commands
- commands can be edited in-place and run with `<C-CR>`
- can also be opened with `<C-f>` when typing ex command
  (can be useful to type/edit complex commands)

### current mapping of any key or key combination

- `:verbose map <S-CR>`
- `:verbose nmap ,f`

### global command

`:g`

<http://disq.us/p/dkhy28>:

> The global command is actually the origin of grep's name - :g/re/p would
> print out all lines matching the regular expression "re".

### make all windows within tab equally high and wide

- `<C-w>=`
- `:help window-resize`

### local functions and their usage in autocommands and mappings

- <http://vim.1045645.n5.nabble.com/lt-SID-gt-or-s-General-questions-about-functions-td4297515.html#a4298658>
- `help :local-function`

say, we have a local function (a function local to a script, starts with `s:`):

```vimscript
function! s:GoToPrevTab()
  ...
endfunction
```

inside autocommands it can be called as is:

```vimscript
augroup tabs
  autocmd!
  autocmd TabEnter * call s:GoToPrevTab()
augroup END
```

but inside mappings you must prefix its name with <SID> (instead of `s:`):

```vimscript
nnoremap <C-Tab> :call <SID>GoToPrevTab()<CR>
```

### call vs exec (execute)

- <http://stackoverflow.com/questions/18178768/vimscript-call-vs-execute>

- `call` - used to call function: `call s:GoToPrevTab()`
- `exec` - used to evaluate string: `exec 'tabnext ' . g:lasttabnr`
