---
layout: post
title: CircleCI
date: 2018-05-31 19:28:15 +0300
access: private
comments: true
categories: [circleci]
---

<!-- more -->

* TOC
{:toc}
<hr>

troubleshooting
---------------

### build is not starting after changes are pushed to Github

**solution**

there was an error in my CircleCI config - `version: 2` key was missing in
`workflows` section.

to find specific error open current branch of your project in CircleCI -
you'll see a big yellow `NEED SETUP` button in case there are any errors
in your config.

### /bin/bash: yarn: command not found

**solution**

pre-built CircleCI Docker image `circleci/ruby:2.5.1` doesn't have
Yarn preinstalled - use `-node` image variant instead:

> <https://circleci.com/docs/2.0/yarn/#using-yarn-in-circleci>
>
> If you are using one of the other language images such as circleci/python
> or circleci/ruby, there are two image variants that will include Yarn as
> well as NodeJS. These would be the -node and -node-browsers image variants.
