---
layout: post
title: bundler
date: 2017-04-17 19:27:01 +0300
access: public
categories: [bundler]
---


<!-- more -->

### groups

<http://bundler.io/groups.html>

gems outside any named group are in `default` group.

install gems from all groups:

```sh
$ bundle
```

install gems from all groups except `production`:

```sh
$ bundle --without production
```

### require

<http://bundler.io/groups.html>

require all gems from groups `default` and `production`:

```ruby
Bundler.require(:default, :production)
```

Rails app by default requires `default` and group corresponding to
current environment in _config/application.rb_:

```ruby
# Rails.groups = [:default, Rails.env]
Bundler.require(*Rails.groups)
```

in plain Ruby app you have 2 options:

- require all gems from all or selected groups in _lib/my_app.rb_
  (common entry point of CLI application or gem)

  ```ruby
  # require gems from all groups
  Bundler.require
  # require gems from default and production groups
  Bundler.require(:default, :production)
  ```

  this method is recommended for large `Gemfile`s.

- require gems manually in appropriate files where you need them

  this method is recommended for smaller `Gemfile`s.

## setup

<http://bundler.io/bundler_setup.html>

configure the load path for all gems:

```ruby
require 'bundler/setup'
```

configure the load paths for gems from specified groups:

```ruby
Bundler.setup(:default, :development)
```

bundler setup configures the load path so that gems from all or
specified groups can be required.

in theory you should first configure the load path and then require gems:

```ruby
require 'bundler/setup'
Bundler.require
```

but in practice I don't configure the load path as described above -
all gems can be required without `Bundler.setup`.
